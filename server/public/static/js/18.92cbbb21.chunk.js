(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{620:function(t,e,n){"use strict";n.r(e);n(471);var a=n(470),i=(n(119),n(46)),o=(n(164),n(107)),c=(n(65),n(18)),r=n(25),l=n(26),u=n(28),d=n(27),s=n(29),h=n(0),f=n.n(h),g=n(407),m=n.n(g),p=n(66),C=n(60),b=n.n(C),v=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={list:[],pagination:{},loading:!1,q:""},n.getColumns=function(){return[{title:"\u7528\u6237\u540d",dataIndex:"username"},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"createdAt",sorter:function(t,e){return m()(t.createdAt).isBefore(e.createdAt)?1:-1}},{title:"\u90ae\u7bb1",dataIndex:"email"},{title:"\u64cd\u4f5c",render:function(t,e){return f.a.createElement(c.a,{type:"danger",onClick:function(){return n.handleDelete(e._id,e.username)}},"\u5220\u9664")}}]},n.fetchList=function(t,e){n.setState({loading:!0}),b.a.get(Object(p.l)(t,e)).then(function(t){var e={pageSize:6,total:t.data.totalCount};n.setState({list:t.data.data,pagination:e,loading:!1})})},n.handleDelete=function(t,e){o.a.confirm({title:"\u60a8\u786e\u8ba4\u5220\u9664\u8be5\u7528\u6237?\uff0c\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff01",content:"\u7528\u6237\uff1a ".concat(e," "),onOk:function(){b.a.delete(Object(p.h)(t)).then(function(t){})}})},n.handleChange=function(t){n.fetchList(t.current)},n.handleClick=function(){n.fetchList("",n.state.q)},n.handleInput=function(t){n.setState({q:t.target.value})},n}return Object(s.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"render",value:function(){var t=this.state,e=t.list,n=t.pagination,o=t.loading;return f.a.createElement("div",{className:""},f.a.createElement("div",{style:{marginBottom:20}},f.a.createElement(i.a,{style:{width:200},onChange:this.handleInput,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),f.a.createElement(c.a,{style:{marginLeft:10},onClick:this.handleClick},"\u68c0\u7d22")),f.a.createElement(a.a,{rowKey:function(t){return t._id},bordered:!0,columns:this.getColumns(),loading:o,dataSource:e,pagination:n,onChange:this.handleChange}))}}]),e}(h.Component);e.default=v}}]);
//# sourceMappingURL=18.92cbbb21.chunk.js.map